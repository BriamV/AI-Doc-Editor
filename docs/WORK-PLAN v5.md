# Plan de Trabajo: Generador de Documentos con IA + RAG

**Documento** Plan de Trabajo
**Versión** 5.0 (Nomenclatura Corregida)
**Fecha** 24 de junio de 2025
**Autor** Tech Lead / Project Manager
**Estado** Aprobado para Ejecución

## 1. Introducción y Objetivos

Este documento detalla el plan de trabajo para la ejecución del proyecto "Generador de Documentos con IA + RAG", según lo definido en el Documento de Requisitos del Producto (PRD v2). El objetivo principal es desarrollar y entregar una aplicación on-premise que permita a los editores generar, editar, versionar y exportar documentos de alta calidad de manera eficiente y segura.

El plan está diseñado para seguir un enfoque iterativo e incremental, distribuyendo el trabajo en seis releases principales (R0 a R6), cada una con una duración de dos a tres semanas. Cada release se compone de Paquetes de Trabajo (Work Packages - WP) cohesivos y balanceados, con un objetivo de complejidad de 29 a 35 puntos por paquete, para asegurar una carga de trabajo predecible y sostenible.

Este plan de trabajo es el documento rector para la asignación de tareas, el seguimiento del progreso y la gestión de dependencias durante todo el ciclo de vida del proyecto.

## 2. Metodología y Proceso

La ejecución del proyecto se regirá por los siguientes principios y procesos:

- **Desarrollo Iterativo**: El proyecto se divide en sprints de dos semanas (a excepción de la R6), donde cada sprint corresponde a una Release. Al final de cada uno, se espera entregar un incremento de valor funcional y probado.

- **Gestión de Tareas**: Las tareas, definidas en el Catálogo (Sección 7), son las unidades funcionales de trabajo. Cada una posee un Identificador Global de Tarea (`T-XX`) que es único e inmutable a lo largo del proyecto.

- **Flujo de Ramas (Git Flow)**: Se utilizará el flujo de trabajo Git definido en `CONTRIBUTING.md`. Las ramas de funcionalidad se nombrarán usando el Identificador Global de Tarea: `feature/T<XX>-nombre-descriptivo`.

- **Calidad del Código**: Se aplicarán estrictamente las directrices de `DESIGN_GUIDELINES.md`. La tarea `T-01` establece un pipeline de CI/CD con puertas de calidad automáticas que deben superarse para cualquier integración.

- **Gestión de Riesgos**: La matriz de riesgos (definida en `PRD v2.md`, §10) será revisada al final de cada hito, como formaliza la tarea de proceso `T-42`.

## 3. Metodología de Análisis de Complejidad

Para cuantificar la complejidad de cada tarea de forma objetiva, se ha diseñado un modelo de puntuación basado en cuatro criterios fundamentales, puntuados en una escala de 1 (Bajo) a 5 (Muy Alto).

- **C1: Esfuerzo de Implementación (Effort)**: Volumen de trabajo (código, configuración, pruebas).
- **C2: Riesgo Técnico y Novedad (Risk)**: Incertidumbre técnica, uso de tecnologías nuevas, I+D.
- **C3: Dependencias e Integración (Deps)**: Interconexión con otras tareas o sistemas.
- **C4: Ambigüedad de Alcance y UX (Scope)**: Claridad de requisitos y complejidad de la UI/UX.

La Complejidad Total de una tarea es `C1 + C2 + C3 + C4` (rango: 4-20). Una tarea con Complejidad Total > 8 debe desglosarse en Subtareas (ST) manejables (idealmente 4-8 puntos cada una). _Nota: Las tareas de proceso (ej. T-42, T-47) pueden tener una complejidad total > 0 que representa el overhead de gestión, coordinación y documentación, aunque sus subtareas de desarrollo sean de complejidad 0._

### Tabla de Evaluación de Complejidad por Tarea

Esta tabla es el fundamento auditable para la planificación. El identificador (#) es el Identificador Global de Tarea (GTI).

| #         | Tarea                               | C1 (Effort) | C2 (Risk) | C3 (Deps) | C4 (Scope) | Total   |
| :-------- | :---------------------------------- | :---------- | :-------- | :-------- | :--------- | :------ |
| **T-01**  | Baseline & CI/CD                    | 5           | 2         | 2         | 3          | 12      |
| **T-02**  | OAuth 2.0 + JWT Roles               | 3           | 2         | 2         | 2          | 9       |
| **T-03**  | Límites de Ingesta & Rate           | 3           | 2         | 4         | 2          | 11      |
| **T-04**  | File Ingesta RAG + Perf             | 5           | 4         | 5         | 4          | 18      |
| **T-05**  | Planner Service (/plan)             | 4           | 4         | 3         | 3          | 14      |
| **T-06**  | Sections WS                         | 4           | 4         | 3         | 3          | 14      |
| **T-07**  | Editor UI Core + Split View         | 4           | 3         | 3         | 4          | 14      |
| **T-08**  | Action Palette + IA Cmds            | 3           | 3         | 3         | 3          | 12      |
| **T-09**  | Versioning & Diff                   | 4           | 2         | 3         | 3          | 12      |
| **T-10**  | Export Service                      | 3           | 3         | 2         | 2          | 10      |
| **T-11**  | Coherence Checker                   | 4           | 5         | 2         | 4          | 15      |
| **T-12**  | Credential Store & Crypto           | 4           | 4         | 4         | 2          | 14      |
| **T-13**  | Audit Log WORM & Viewer             | 3           | 3         | 2         | 3          | 11      |
| **T-14**  | Observability & Dashboards          | 4           | 3         | 3         | 3          | 13      |
| **T-15**  | Backup & Storage Ops                | 3           | 3         | 2         | 2          | 10      |
| **T-16**  | Deployment & Scaling (PoC)          | 3           | 4         | 2         | 3          | 12      |
| **T-17**  | API-SPEC & ADR Governance           | 3           | 1         | 1         | 3          | 8       |
| **T-18**  | Context Flags & Template Selection  | 3           | 2         | 3         | 3          | 11      |
| **T-19**  | Comment Tags & /comment CRUD        | 3           | 2         | 2         | 3          | 10      |
| **T-20**  | Bench E2E Performance               | 3           | 3         | 4         | 2          | 12      |
| **T-21**  | Navigation & Accessibility          | 4           | 2         | 2         | 4          | 12      |
| **T-22**  | Delete & Restore (Logical)          | 2           | 2         | 3         | 2          | 9       |
| **T-23**  | Health-check API                    | 1           | 1         | 2         | 1          | 5       |
| **T-24**  | Consentimiento Explícito            | 2           | 1         | 2         | 2          | 7       |
| **T-25**  | Dashboard Costes & Costo por Doc    | 3           | 3         | 3         | 3          | 12      |
| **T-26**  | Storage Quota                       | 2           | 1         | 2         | 2          | 7       |
| **T-27**  | Uptime Monitoring                   | 2           | 2         | 2         | 1          | 7       |
| **T-28**  | Token Budget Guard                  | 2           | 2         | 2         | 3          | 9       |
| **T-29**  | Restore-Verifier                    | 2           | 2         | 2         | 1          | 7       |
| **T-30**  | Rewrite-Latency Test                | 2           | 2         | 3         | 1          | 8       |
| **T-31**  | Pause/Abort Flow                    | 2           | 2         | 3         | 3          | 10      |
| **T-32**  | Template Management                 | 3           | 1         | 2         | 3          | 9       |
| **T-33**  | Draft-Quality Test                  | 3           | 4         | 3         | 3          | 13      |
| **T-34**  | Usability Testing                   | 3           | 1         | 4         | 3          | 11      |
| **T-35**  | GDPR Erasure on Demand              | 2           | 3         | 3         | 2          | 10      |
| **T-36**  | GDPR Erase Purge Job                | 5           | 5         | 4         | 3          | 17      |
| **T-37**  | Admin Panel: User & System Mgmt     | 4           | 2         | 4         | 4          | 14      |
| **T-38**  | Implementar Sharding (Producción)   | 4           | 5         | 3         | 2          | 14      |
| **T-39**  | Implementar Pin/Favoritos           | 2           | 1         | 2         | 2          | 7       |
| **T-40**  | Mejoras de Usabilidad Post-Piloto   | 2           | 1         | 3         | 3          | 9       |
| **T-41**  | User API Key Management             | 2           | 2         | 3         | 2          | 9       |
| **T-42**  | Risk Matrix Review (Proceso)        | 1           | 2         | 1         | 1          | 5       |
| **T-43**  | Implementar Escaneo de Dependencias | 3           | 3         | 2         | 1          | 9       |
| **T-44**  | Admin Panel Skeleton & Config Store | 3           | 2         | 1         | 3          | 9       |
| **T-45**  | Guardrails Integration              | 3           | 2         | 2         | 2          | 9       |
| **T-46**  | DeepEval Benchmarks                 | 3           | 3         | 3         | 2          | 11      |
| **T-47**  | Gate R4 Orchestrator Decision       | 1           | 1         | 1         | 0          | 3       |
| **Total** |                                     |             |           |           |            | **484** |

_Nota: Las tareas de proceso `T-42` y `T-47` tienen una complejidad total > 0 que representa el overhead de gestión, coordinación y documentación, aunque sus subtareas de implementación sean de complejidad 0. La tarea `T-42` se ejecutará al final de cada hito (R0-R6) y no se incluye en la carga de un paquete de trabajo específico._

## 4. Roles y Responsabilidades

- **Product Owner**: Responsable de definir y priorizar los requisitos del backlog, aceptar los entregables de cada sprint y asegurar que el producto final cumpla con la visión del negocio.
- **Tech Lead**: Responsable de la arquitectura técnica, la calidad del código, la resolución de impedimentos técnicos y la supervisión de la ejecución de este plan de trabajo.
- **Equipo de Desarrollo**: Responsable de implementar las tareas asignadas, realizar pruebas unitarias y de integración, y participar en las revisiones de código.

## 5. Estructura del Plan y Desglose de Trabajo (WBS)

El plan se organiza en una jerarquía de cinco niveles para garantizar una trazabilidad completa y auditable. Para eliminar ambigüedades, se utiliza un sistema de doble identificación:

- **Identificador Global de Tarea (GTI)**: Un código único e inmutable (`T-XX`) para cada tarea definida en el proyecto. Representa el "QUÉ".
- **Identificador de Elemento de Trabajo (WII)**: Un código jerárquico que describe la ubicación exacta de una unidad de trabajo en el plan de ejecución. Representa el "DÓNDE" y "CUÁNDO".

### Niveles de la WBS:

1.  **Nivel 0: Proyecto**: "Generador de Documentos con IA + RAG".
2.  **Nivel 1: Release (R)**: Hitos principales del proyecto (ej. R0, R1).
3.  **Nivel 2: Paquete de Trabajo (WP)**: Agrupaciones lógicas de tareas dentro de una release (ej. `R0.WP1`).
4.  **Nivel 3: Tarea (T)**: Unidad de trabajo funcional identificada por su GTI (ej. `T-04`). Define un entregable completo y verificable.
5.  **Nivel 4: Subtarea (ST)**: La unidad de trabajo más pequeña y directamente implementable. Se identifica con un WII que une su contexto de ejecución con el GTI de su tarea padre.

### Formato del WII:

`R<#>.WP<#>-T<XX>-ST<#>`

_Ejemplo: `R1.WP1-T04-ST1` identifica de forma inequívoca a la "Subtarea 1" de la "Tarea global T-04", que está planificada para ejecutarse dentro del "Paquete de Trabajo 1" de la "Release 1"._

### Ejemplo de Desglose Revisado: Tarea T-04 (GTI: T-04, Complejidad: 18)

La tarea `T-04` (File Ingesta RAG + Perf) se desglosa en las siguientes subtareas, cada una con un identificador (WII) único y trazable:

| ID del Elemento de Trabajo (WII) | Descripción de la Subtarea                                                         | Complejidad Estimada |
| :------------------------------- | :--------------------------------------------------------------------------------- | :------------------- |
| `R1.WP1-T04-ST1`                 | Implementar el endpoint REST `/upload` con validación de metadatos y archivos.     | 4                    |
| `R1.WP1-T04-ST2`                 | Desarrollar el módulo de extracción de texto para PDF, DOCX y MD.                  | 5                    |
| `R1.WP1-T04-ST3`                 | Integrar cliente OpenAI para generar embeddings (`text-embedding-3-small`).        | 2                    |
| `R1.WP1-T04-ST4`                 | Implementar lógica de upsert en Chroma para indexar y actualizar vectores.         | 3                    |
| `R1.WP1-T04-ST5`                 | Crear script de benchmark (JMeter) para medir rendimiento de ingesta (`PERF-003`). | 2                    |
| `R1.WP1-T04-ST6`                 | Crear script de benchmark para medir latencia de búsqueda vectorial (`PERF-004`).  | 2                    |

Este sistema asegura que cada pieza de trabajo es localizable en el plan sin riesgo de interpretación. El equipo de desarrollo es responsable de realizar el desglose a nivel de Subtarea (ST) antes de iniciar la implementación.

## 6. Plan de Ejecución por Releases

A continuación se detalla la distribución de paquetes de trabajo y las tareas (referenciadas por su GTI) para cada release.

### Release 0: Core Backend & Security Foundation (Plazo: 2 semanas)

**Objetivo:** Establecer los cimientos técnicos, de seguridad y de CI/CD del proyecto.

| ID Paquete | Complejidad | Tareas                         | Justificación del Agrupamiento                                                                                                                                                                                            |
| :--------- | :---------- | :----------------------------- | :---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `R0.WP1`   | 34          | `T-01`, `T-17`, `T-23`, `T-43` | **Fundamentos y Gobernanza**: Agrupa las tareas base indispensables: CI/CD, gobernanza de la arquitectura, health-check y el escaneo de seguridad de dependencias.                                                        |
| `R0.WP2`   | 27          | `T-02`, `T-41`, `T-44`         | **Autenticación y Configuración**: Establece el flujo de autenticación, la gestión de claves de usuario y el esqueleto del panel de administración, prerrequisitos para R1.                                               |
| `R0.WP3`   | 25          | `T-13`, `T-12`                 | **Seguridad y Auditoría**: Enfocado en la base de seguridad (logs WORM, criptografía). **Nota:** Estas tareas son interdependientes; la implementación del log (`T-13`) debe preceder a la lógica de auditoría de `T-12`. |

### Release 1: Ingesta & Generación Inicial (Plazo: 2 semanas)

**Objetivo:** Implementar el flujo completo de ingesta de documentos y el pipeline de generación de borradores.

| ID Paquete | Complejidad | Tareas                 | Justificación del Agrupamiento                                                                                                                                                                                                                              |
| :--------- | :---------- | :--------------------- | :---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `R1.WP1`   | 36          | `T-04`, `T-03`, `T-24` | **Flujo de Ingesta Unificado**: Mantiene la cohesión temática al agrupar la ingesta RAG, los límites de uso y el consentimiento del usuario. _Nota: Este paquete excede marginalmente el límite superior (35) debido a la complejidad indivisible de T-04._ |
| `R1.WP2`   | 28          | `T-05`, `T-06`         | **Pipeline de Generación**: Adelanta el backend de generación de contenido para que la UI del editor (R2) tenga servicios funcionales a los que conectarse.                                                                                                 |

### Release 2: Editor Funcional y Calidad (Plazo: 2 semanas)

**Objetivo:** Entregar una experiencia de edición interactiva y validar la calidad del contenido generado.

| ID Paquete | Complejidad | Tareas                 | Justificación del Agrupamiento                                                                                                                                                                                                                                                                      |
| :--------- | :---------- | :--------------------- | :-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `R2.WP1`   | 36          | `T-07`, `T-08`, `T-31` | **Editor Interactivo**: Construye la UI del editor sobre el backend de R1 y lo dota de comandos de IA y control de flujo para una experiencia funcional. _Nota: Este paquete excede marginalmente el límite superior (35) debido a la complejidad indivisible de las tareas de UI del editor core._ |
| `R2.WP2`   | 28          | `T-11`, `T-33`         | **Calidad del Contenido (Core)**: Agrupa las tareas dedicadas a la validación y prueba de la calidad del contenido generado por el pipeline de R1.                                                                                                                                                  |
| `R2.WP3`   | 20          | `T-45`, `T-46`         | **Calidad del Contenido (Tooling)**: Implementa el tooling de soporte (Guardrails, DeepEval) necesario para validar y asegurar la calidad de T-11, manteniendo la cohesión temática con el objetivo de la release.                                                                                  |

### Release 3: Productividad y Navegación (Plazo: 2 semanas)

**Objetivo:** Mejorar la productividad del usuario con funcionalidades avanzadas de navegación y gestión de contexto.

| ID Paquete | Complejidad | Tareas                 | Justificación del Agrupamiento                                                                                                                                      |
| :--------- | :---------- | :--------------------- | :------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| `R3.WP1`   | 31          | `T-21`, `T-19`, `T-39` | **Experiencia de Usuario (UX) Avanzada**: Enfocado en la organización y navegación del espacio de trabajo (accesibilidad, comentarios, favoritos).                  |
| `R3.WP2`   | 29          | `T-32`, `T-18`, `T-28` | **Gestión de Contexto y Plantillas**: Agrupa la gestión de plantillas, su uso en la UI y la protección de presupuesto de tokens, funcionalidades interrelacionadas. |

### Release 4: Ciclo de Vida del Documento y Admin (Plazo: 2 semanas)

**Objetivo:** Implementar la gestión completa del ciclo de vida del documento y las capacidades de administración del sistema.

| ID Paquete | Complejidad | Tareas                 | Justificación del Agrupamiento                                                                                                                                                                                                                                           |
| :--------- | :---------- | :--------------------- | :----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `R4.WP1`   | 31          | `T-09`, `T-10`, `T-22` | **Gestión del Documento**: Agrupa versionado, exportación y borrado lógico, que son acciones sobre un documento en su etapa final.                                                                                                                                       |
| `R4.WP2`   | 17          | `T-37`, `T-47`         | **Panel de Administración y Decisión de Orquestador**: El panel de administración se implementa en R4, cuando la mayoría de las funcionalidades que debe gobernar ya existen. Punto de control (gate) para validar KPIs y definir si se adopta algún orquestador en R5+. |
| `R4.WP3`   | 12          | `T-16`                 | **Validación de Escalabilidad (PoC)**: Ejecuta el PoC de escalado en un entorno funcionalmente estable (post-R3) para informar con antelación la implementación de producción en R6, mitigando riesgos técnicos tardíos.                                                 |

### Release 5: Operaciones y Compliance (Plazo: 2 semanas)

**Objetivo:** Asegurar la observabilidad, la gestión de costes y el cumplimiento de las normativas de datos.

| ID Paquete | Complejidad | Tareas         | Justificación del Agrupamiento                                                                                                                                                                                                |
| :--------- | :---------- | :------------- | :---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `R5.WP1`   | 32          | `T-14`, `T-25` | **Observabilidad y Costes**: Agrupa el monitoreo de la plataforma y el control de costes, capacidades de operación madura.                                                                                                    |
| `R5.WP2`   | 17          | `T-15`, `T-26` | **Compliance, Almacenamiento**: Agrupa el sistema de backup y la gestión de cuotas, tareas de infraestructura que se benefician de un entorno operativo estable. (Paquete de menor complejidad para permitir estabilización). |

### Release 6: Fiabilidad, Escalado y Validación Final (Plazo: 3 semanas)

**Objetivo:** Garantizar la resiliencia, escalabilidad y calidad final del producto a través de pruebas exhaustivas y validación con usuarios.

| ID Paquete | Complejidad | Tareas                         | Justificación del Agrupamiento                                                                                                                                                                                               |
| :--------- | :---------- | :----------------------------- | :--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `R6.WP1`   | 31          | `T-36`, `T-29`, `T-27`         | **Resiliencia Operativa**: Se enfoca en la fiabilidad del sistema mediante la purga de datos, la verificación de restauración y el monitoreo de uptime.                                                                      |
| `R6.WP2`   | 26          | `T-38`, `T-35`                 | **Escalabilidad y Borrado Definitivo**: Une la implementación de escalado en producción (informada por el PoC de R4) con la funcionalidad de borrado definitivo a demanda, ambas acciones críticas sobre la infraestructura. |
| `R6.WP3`   | 31          | `T-20`, `T-30`, `T-34`, `T-40` | **Validación E2E y Cierre**: Agrupa todas las pruebas de validación final (performance, latencia, usabilidad) y la implementación de las mejoras resultantes.                                                                |

## 7. Catálogo de Tareas (Work Breakdown Structure - WBS)

La siguiente tabla contiene el detalle de cada una de las tareas, identificadas por su Identificador Global de Tarea (GTI). Este es el catálogo maestro del "QUÉ" se debe hacer.

| # (GTI)  | Tarea (rama Git: `feature/T<XX>-...`)               | Alcance / Entregables verificables                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | Requisitos PRD y Gaps Abordados                                                    | Depende de                     | Criterio de aceptación                                                                                                                                                                                                                                                                      | Evidencia / Artefactos                                                                              |
| :------- | :-------------------------------------------------- | :-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :--------------------------------------------------------------------------------- | :----------------------------- | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | :-------------------------------------------------------------------------------------------------- |
| **T-01** | Baseline & CI/CD                                    | Docker-compose + Makefile; lint & tests (ruff, black, eslint) en GitHub Actions; plantilla ADR + CODEOWNERS; estructura del job qa-gate con análisis de calidad y umbrales; linter de Pull Requests. El alcance incluye la migración a Pydantic v2 y el freeze de dependencias (requirements-prod.txt) con un benchmark que demuestre una mejora de rendimiento x5 frente a v1.                                                                                                                                                                                             | DESIGN_GUIDELINES §CI/CD pipeline, §Métricas de Calidad, §Proceso; CONTRIBUTING.md | —                              | 1. Pipeline verde en commit inicial. 2. ADR-000 registrada. 3. El job qa-gate integra análisis estático (radon, SonarJS) que falla si se superan umbrales críticos de complejidad. 4. El pipeline valida que los títulos de PRs sigan la convención `feat(T-XX): ....`                      | Logs de CI, directorio de ADR, config. del pipeline, reportes de calidad, config. del linter de PR. |
| **T-02** | OAuth 2.0 + JWT con Roles y Refresh Token           | Login Google/MS, emisión de JWT con roles (editor/admin), implementación de flujo de **refresh-token** para gestión de sesión extendida; endpoint `/auth/refresh`.                                                                                                                                                                                                                                                                                                                                                                                                          | USR-001 (Gap: detalles de roles)                                                   | `T-01`                         | El flujo E2E devuelve un JWT válido, el endpoint de refresh funciona correctamente y responde con 401 al expirar ambos tokens.                                                                                                                                                              | Colección Postman, tests unitarios.                                                                 |
| **T-03** | Límites de Ingesta & Rate                           | Implementa la lógica de backend y la UI de configuración para los límites de ingesta y rate-limiting definidos en ADM-001 y RLM-001. El backend controla N docs y T MB; rate-limit 30 req/min en endpoints `/upload`, `/rewrite`, `/plan` y `/draft_section`. **Nota de Dependencia Crítica:** La lógica de esta tarea consume los valores de configuración persistidos por el servicio "Config Store" implementado en T-44, que debe diseñarse para satisfacer este caso de uso.                                                                                           | ADM-001 (lógica de backend), RLM-001                                               | `T-44`                         | Carga N+1 docs o > límite MB ⇒ HTTP 400. 40 req/min en endpoints rate-limitados ⇒ HTTP 429.                                                                                                                                                                                                 | Cypress tests.                                                                                      |
| **T-04** | File Ingesta RAG + Perf                             | `/upload` REST; extracción de texto/metadatos; embeddings `OA-3-small`; upsert en Chroma; benchmark JMeter/Locust ≥ 50 MB/h; métricas: ingesta ≤ 120s/10MB (PERF-003), vector-search p95 < 1s (PERF-004). **Nota de Riesgo**: La complejidad de la extracción de texto puede aumentar si se encuentran documentos PDF no estándar (solo imágenes) o DOCX con formato complejo. La estimación asume formatos estándar. **Nota de Proceso**: El Tech Lead es el responsable final de certificar el cumplimiento de los KPIs de rendimiento basados en los informes generados. | KB-001/002/003, PERF-003/004                                                       | `T-12`, `T-41`                 | 1. Suite JMeter evidencia tiempos. 2. Test de regresión verifica que embeddings antiguos no se recuperan tras upsert y los nuevos sí (score ≥ 0.75). 3. Metadatos correctos visibles en la UI post-carga.                                                                                   | Pytest con fixtures, reporte JMeter, test Cypress UI, Acta de Certificación de KPI.                 |
| **T-05** | Planner Service (`/plan`)                           | Módulo independiente Hex-port; Outline-Guided TG; config chunk ≤ 800 tok; documentación del flujo de generación de borrador inicial (outline + streaming)                                                                                                                                                                                                                                                                                                                                                                                                                   | GEN-002                                                                            | `T-01`, `T-41`                 | 1. Req → resp ≤ 1 s. 2. JSON H1–H3 válido. 3. El servicio incluye una lógica de fallback a un modo 'single-shot' si el outline generado no cumple un umbral de calidad (p.ej., no contiene headings H2). 4. Test E2E demuestra generación de borrador inicial según flujo documentado.      | Unit tests, OpenAPI update, diagrama de flujo.                                                      |
| **T-06** | Sections WS                                         | WS stream 30 tok/s; handshake ≤ 150 ms; auto-refresh de `global_summary` tras cada sección (~ 100 tok); Responsabilidad de la métrica PERF-002 transferida a T-07                                                                                                                                                                                                                                                                                                                                                                                                           | GEN-002; UX-FLOW §4 (handshake ≤ 150 ms); PERF-002                                 | `T-05`, `T-41`                 | 1. Sección 600 tok p95 ≤ 20 s. 2. handshake WS ≤ 150 ms. 3. `global_summary` actualiza p95 ≤ 500 ms tras cada sección (~ 100 tok). 4. Latencia UI medida en `T-07`.                                                                                                                         | WS integration tests, captura `global_summary`.                                                     |
| **T-07** | Editor UI Core + Split View                         | React 18 split-view; Prompt Bar con ETA dinámica; Outline Pane con drag-drop; consolida métrica `PERF-002` (< 200 ms render).                                                                                                                                                                                                                                                                                                                                                                                                                                               | EDT-001, UX-FLOW § 2.1, PERF-002                                                   | `T-06`                         | 1. Lighthouse p95 < 200 ms. 2. Drag-drop de chips persiste. 3. ETA de progreso con ±5% de precisión. 4. Editor Monaco configurado según `DESIGN_GUIDELINES.md` (`minimap: false`, `wordWrap: 'on'`).                                                                                        | Reporte Lighthouse, tests Cypress UX.                                                               |
| **T-08** | Action Palette + IA Cmds                            | `editor.addAction` (8 comandos); hook `/rewrite`; checker de coherencia contextual post-reescritura; ROUGE-L test harness                                                                                                                                                                                                                                                                                                                                                                                                                                                   | EDT-002 (palette gap)                                                              | `T-07`, `T-41`                 | 1. `/resume` reduce ≥ 20 % y ROUGE-L ≥ 0,7. 2. Test demuestra que una reescritura que introduce una incoherencia (p.ej., cambia el sujeto) es marcada o rechazada.                                                                                                                          | Jest + golden texts.                                                                                |
| **T-09** | Versioning & Diff                                   | SHA-256 snapshot each save; DiffEditor; rollback UI; 500-vers cap                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | VER-001/002 (cubre gap metodológico)                                               | `T-07`, `T-13`                 | Rollback a vN sin perder historial                                                                                                                                                                                                                                                          | Unit + UI tests, WORM log.                                                                          |
| **T-10** | Export Service                                      | Celery queue; Pandoc MD→PDF/DOCX; progress toast                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            | EXP-001 (cubre gap metodológico)                                                   | `T-01`                         | PDF abre sin warnings; DOCX pasa OpenXML validator                                                                                                                                                                                                                                          | Artefactos, CI job.                                                                                 |
| **T-11** | Coherence Checker                                   | `/revise_global` POST; BERT-based cohesion score ≤ 1 %. **Nota de Riesgo:** Tarea con alto componente de I+D (Riesgo Técnico C2=5). El éxito depende de la viabilidad del modelo BERT para esta tarea. Se debe definir un plan de contingencia (p.ej., checker basado en reglas más simples) si el enfoque principal no cumple los objetivos en el plazo de la release.                                                                                                                                                                                                     | COH-001 (cubre gap metodológico)                                                   | `T-06`                         | Test dataset incoherencias ≤ 1 %                                                                                                                                                                                                                                                            | Metrics report.                                                                                     |
| **T-12** | Credential Store & Crypto                           | AES-256 at-rest; TLS 1.3; cron job diario que fuerza la rotación de claves API > 90 días y lo registra en el log de auditoría.                                                                                                                                                                                                                                                                                                                                                                                                                                              | SEC-001/002/003/004                                                                | `T-13`                         | 1. Simulación de clave de 91 días dispara rotación forzada y genera entrada en log WORM en ≤ 5 min, según SEC-002. 2. La clave antigua queda invalidada.                                                                                                                                    | Reporte de Pentest, log de auditoría.                                                               |
| **T-13** | Audit Log WORM & Viewer                             | Append-only table (usuario, acción, timestamp, IP, doc-ID, versión); UI de visualización para Admins con filtros.                                                                                                                                                                                                                                                                                                                                                                                                                                                           | AUD-001                                                                            | `T-01`                         | 1. Entrada en log WORM aparece ≤ 5 s tras la acción. 2. La UI del visor de logs permite filtrar por usuario, tipo de acción y rango de fechas, con paginación.                                                                                                                              | DB proof, Cypress tests del visor, screenshots del UI con filtros aplicados.                        |
| **T-14** | Observability & Dashboards + KPIs                   | OTel traces; Prometheus + Grafana; paneles: TMG (KPI-01), ratio éxito ingesta (KPI-06), reutilización plantillas (KPI-05), draft_p95, doc_count/month, tokens/doc                                                                                                                                                                                                                                                                                                                                                                                                           | OBS-001/002; MET-001/002; KPI-01/05/06                                             | `T-01`                         | 1. 99 % spans instrumentados. 2. Panel muestra KPI: TMG, doc_count/month, reuse_templates_ratio, tokens_per_doc, draft_p95, ratio éxito ingesta. 3. Datos lag < 60 s. 4. Alertas configuradas para thresholds de cada KPI.                                                                  | Grafana screenshots, alert rules export.                                                            |
| **T-15** | Backup & Storage Ops                                | Daily encrypted backup; restore script; retención de backups 30 d; quota alert 80 % (KPI-13)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | INF-001; STO-001; STO-002                                                          | `T-01`                         | 1. CI/CD job semanal ejecuta `restore --verify` y comprueba hash. 2. > 80 % uso dispara alerta. 3. Backups > 30 d purgados automáticamente.                                                                                                                                                 | Job logs; CI job config; retention audit log.                                                       |
| **T-16** | Deployment & Scaling (PoC)                          | HPA manifests (≥ 3 réplicas); PoC de sharding para vector-store (Qdrant/Chroma); políticas de auto-escalado para servicios de aplicación. **Nota de Proceso**: La ejecución de este PoC requiere que las funcionalidades core (hasta R2) estén estables.                                                                                                                                                                                                                                                                                                                    | SCA-001 (parcial); AVL-001                                                         | `T-01`, `T-04`, `T-06`         | 1. Load test 10 usuarios/100 docs dispara escalado de aplicación a ≥ 3 réplicas. 2. PoC demuestra distribución de datos y consultas a través de ≥ 2 shards. 3. Failover de aplicación MTTR ≤ 2 h.                                                                                           | Chaos test report, HPA metrics, PoC report.                                                         |
| **T-17** | API-SPEC & ADR Governance                           | OpenAPI 3.1 continuo; ADRs (size-chunk, Celery, API Key Model); autogenerar docs/traceability.xlsx (req ⇄ tarea ⇄ test) en cada commit; check de `DESIGN_GUIDELINES`. El alcance incluye la creación de una plantilla estándar para "Actas de Certificación" de tareas críticas.                                                                                                                                                                                                                                                                                            | `DESIGN_GUIDELINES` § Proceso                                                      | `T-01`                         | `spectral` sin errores; matriz de trazabilidad actualizada y versionada; índice de ADR actualizado; ADR para T-41 existe.                                                                                                                                                                   | Docs en commit, artefacto de CI, plantilla de Acta de Certificación versionada.                     |
| **T-18** | Context Flags & Template Selection                  | UI toggle para contextos (KB, Web, Libre); Dropdown de Plantillas; API `/context` PATCH; Benchmark latencia toggle < 3 s; Tests de exclusión RAG y plantillas.                                                                                                                                                                                                                                                                                                                                                                                                              | GEN-001; PRD v2 §3.1 (Plantillas)                                                  | `T-32`                         | 1. Toggle aplica contexto y excluye RAG en ≤ 3 s (p95). 2. Dropdown muestra y aplica plantilla seleccionada. 3. El toggle "Web search" está deshabilitado y al pasar el cursor muestra el tooltip: "Disponible en futura versión". 4. Selección de plantilla se refleja en la generación.   | Postman collection; unit tests; Cypress UI tests.                                                   |
| **T-19** | Comment Tags & /comment CRUD                        | Monaco decorations (TODO, NOTE); REST `/comment` CRUD (list, add, delete); links Outline ↔ Tag; cobertura UI/BE                                                                                                                                                                                                                                                                                                                                                                                                                                                            | COM-001, UX-FLOW § 2.3                                                             | `T-07`                         | Crear / eliminar tag refleja en UI en < 150 ms; tests Jest > 90 %                                                                                                                                                                                                                           | Jest + Cypress, OpenAPI update.                                                                     |
| **T-20** | Bench E2E Performance                               | Scripts JMeter 100 docs + Locust 10 usuarios; mide generación/edición/export. **Nota de Proceso**: El Tech Lead es el responsable final de certificar el cumplimiento de los KPIs de rendimiento basados en los informes generados.                                                                                                                                                                                                                                                                                                                                         | PERF-001; KPI-01; PRD §4.4.5                                                       | `T-08`, `T-10`                 | p95 ciclo completo (generar+editar+export) ≤ 6 min; p95 borrador inicial (draft_complete) ≤ 8 min; pruebas auto-ejecutadas en CI                                                                                                                                                            | JMeter & Locust reports, CI job, Acta de Certificación de KPI.                                      |
| **T-21** | Navigation & Accessibility                          | Sidebar: pestañas Recent/Projects/Search; reordenamiento drag-drop de proyectos; Quick Open ⌘+P; virtual-scroll > 10 pág.; tema claro/oscuro automático; teclado 100 %                                                                                                                                                                                                                                                                                                                                                                                                      | UX-FLOW § 2.3; A11y                                                                | `T-07`                         | • Lighthouse A11y ≥ 90. • ⌘+P abre selector < 150 ms (p95). • Virtual-scroll 10 000 líneas sin jank (fps > 50). • Reordenar proyectos con drag-drop persiste orden.                                                                                                                         | Lighthouse report, Pa11y log, Cypress UX.                                                           |
| **T-22** | Delete & Restore (Logical)                          | Endpoints `/docs/{id}` DELETE (lógico) y `/docs/{id}/restore`; UI con botones; retención lógica configurable (def: 30d) a través del servicio de configuración. **Nota**: Esta tarea es el primer paso del ciclo de vida de borrado. Su validación E2E debe realizarse conjuntamente con `T-35` y `T-36` en R6.                                                                                                                                                                                                                                                             | DEL-001, PRI-001                                                                   | `T-37`                         | 1. DELETE marca el doc como "deleted". 2. RESTORE lo recupera dentro del período de retención. 3. Tras el período, es candidato para purga por T-36.                                                                                                                                        | Colección Postman, tests Cypress.                                                                   |
| **T-23** | Health-check API                                    | Endpoint `/healthz` verifica DB, vector-store, OpenAI; responde JSON `{status:"ok"/"degraded"}`                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | MON-001                                                                            | `T-01`                         | 1. HTTP 200 p95 < 200 ms. 2. Retorna "degraded" si falla dependencia.                                                                                                                                                                                                                       | Postman collection, CI integration test.                                                            |
| **T-24** | Consentimiento Explícito                            | Checkbox “Acepto uso IA externa” en UI de subida; registro en log inmutable; rechazo bloquea RAG/Web search.                                                                                                                                                                                                                                                                                                                                                                                                                                                                | PRI-002                                                                            | `T-04`                         | Sin checkbox deshabilita “Upload” y “Generate context”.                                                                                                                                                                                                                                     | Pruebas Cypress, revisión UI.                                                                       |
| **T-25** | Dashboard Costes & Costo por Documento              | • Extender panel Grafana/UI para mostrar: – Σ tokens/doc – coste USD/día/modelo – coste USD/doc.• Alertas para desviación > 5 % (Usage API).                                                                                                                                                                                                                                                                                                                                                                                                                                | MET-002, OBS-002; PRD v2 KPI-04                                                    | `T-14`                         | 1. Métrica coste USD/doc calculada y comparada (< 5 % desviación vs Usage API). 2. Dashboard muestra Σ tokens/doc, coste USD/día/modelo y USD/doc. 3. Alertas configuradas para coste/doc y desviación > 5 %.                                                                               | Dashboard screenshots; CI logs; alert rules export.                                                 |
| **T-26** | Storage Quota                                       | Monitor total storage; HTTP 507 si > 50 GB; UI alerta en panel de settings.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | STO-001                                                                            | `T-01`                         | Upload que supera 50 GB retorna 507; alerta visible en Settings.                                                                                                                                                                                                                            | Postman tests, Cypress UI tests.                                                                    |
| **T-27** | Uptime Monitoring                                   | Integrar SRE monitor (Prometheus alert + Grafana) para uptime ≥ 99 %, MTTR ≤ 2 h.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | AVL-001                                                                            | `T-14`                         | Informe uptime mensual ≥ 99 %; incidencia MTTR reportada en ≤ 2 h.                                                                                                                                                                                                                          | Grafana report, incident log.                                                                       |
| **T-28** | Token Budget Guard                                  | Frontend y backend validan tamaño total de tokens en prompt+context (max 9 000 tok); UI muestra advertencia visual al 90 % de límite.                                                                                                                                                                                                                                                                                                                                                                                                                                       | PERF-006                                                                           | `T-07`                         | 1. Al 90 % de token-budget (8,100 tokens), despliega advertencia. 2. Intento de exceder 9,000 tokens envía HTTP 413 con mensaje claro.                                                                                                                                                      | Cypress UI tests; Postman collection.                                                               |
| **T-29** | Restore-Verifier                                    | CI/CD job semanal que ejecuta script `restore --verify` contra backup más reciente y valida checksum                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | STO-002                                                                            | `T-15`                         | 1. Ejecución programada semanal. 2. Hash comparado con origen; divergencia dispara alerta/email.                                                                                                                                                                                            | CI job config; report de verificación                                                               |
| **T-30** | Rewrite-Latency Test                                | Script JMeter/Locust para endpoint `/rewrite` con payload de 100 tokens; mide latencia p95. **Nota de Proceso:** El Tech Lead es el responsable final de certificar el cumplimiento de los KPIs de rendimiento basados en los informes generados.                                                                                                                                                                                                                                                                                                                           | PERF-005                                                                           | `T-08`                         | 1. p95 `/rewrite` ≤ 2 s bajo carga de 50 usuarios concurrentes.                                                                                                                                                                                                                             | JMeter/Locust report; CI integration test, Acta de Certificación de KPI.                            |
| **T-31** | Pause/Abort Flow                                    | API POST `/pause` y `/resume`; UI botón “Pause” en Prompt Bar; modal de confirmación con opciones “Continuar” y “Cancelar”                                                                                                                                                                                                                                                                                                                                                                                                                                                  | UX-FLOW § 2.1                                                                      | `T-07`                         | • POST `/pause` p95 ≤ 150 ms. • Modal aparece ≤ 200 ms con botones Continuar/Cancelar. • “Continuar” reanuda flujo y “Cancelar” detiene generación.                                                                                                                                         | Cypress UX tests, API logs.                                                                         |
| **T-32** | Template Management                                 | • UI CRUD (crear/listar/editar/eliminar) de plantillas en Settings.• API REST `/templates` CRUD (JSON).• Persistencia en DB con migraciones.• Integración con dropdown de `T-18`.• Unit & integration tests; Cypress UI tests.                                                                                                                                                                                                                                                                                                                                              | PRD v2 §3.1 (Prompts y Plantillas)                                                 | `T-44`                         | 1. CRUD opera con éxito (status 200, DB reflejado). 2. Dropdown de `T-18` lista plantillas creadas. 3. API valida inputs y retorna errores claros en 4xx. 4. Generación acepta templateId y aplica contenido.                                                                               | Postman collection; Cypress UI tests; migration scripts; API docs.                                  |
| **T-33** | Draft-Quality Test                                  | Harness ROUGE-L que evalúa semántica y cobertura del borrador inicial contra dataset de referencia; Payloads estándar de 10 docs; Integración CI/CD; Reporte de ROUGE y latencia.                                                                                                                                                                                                                                                                                                                                                                                           | PRD §4.4.1 (Productividad 80%), PRD §4.4.5 (Límite 8 min), KPI-01                  | `T-06`                         | 1. ROUGE-L ≥ 0.8 en borrador inicial (p95). 2. Latencia draft ≤ 8 min (p95), según objetivo de UX. 3. CI falla si ROUGE < 0.8 o latencia > 8 min.                                                                                                                                           | CI job logs; test report con métricas ROUGE; benchmarks de latencia.                                |
| **T-34** | Usability Testing                                   | • Plan de pruebas piloto con 5 usuarios.• Guion de tareas clave (upload, edición, export).• Encuesta SUS post-prueba.• Análisis de feedback y recomendaciones.                                                                                                                                                                                                                                                                                                                                                                                                              | PRD v2 §4.4.10 (Usabilidad & SUS)                                                  | `T-10`, `T-21`                 | 1. SUS promedio ≥ 80. 2. Todos los usuarios completan guion sin bloqueos críticos. 3. Hallazgos documentados con propuestas de mejora.                                                                                                                                                      | Informe de usabilidad; datos y análisis SUS; grabaciones de sesiones piloto.                        |
| **T-35** | GDPR Erasure on Demand                              | UI: botón “Borrar definitivamente” en perfil; endpoint DELETE `/docs/{id}/erase`; workflow de confirmación; registro en log WORM. **Nota**: Esta tarea es el segundo paso del ciclo de vida de borrado. Su validación E2E debe realizarse conjuntamente con `T-22` y `T-36` en R6.                                                                                                                                                                                                                                                                                          | DEL-002                                                                            | `T-13`, `T-22`                 | 1. DELETE `/docs/{id}/erase` devuelve HTTP 204 tras confirmación. 2. Entrada en Audit Log WORM con usuario, doc-ID y timestamp ≤ 5 s. 3. Documento marcado para purga por el job `T-36`.                                                                                                    | Postman collection, Audit Log WORM, Cypress UI tests.                                               |
| **T-36** | GDPR Erase Purge Job                                | Cron job diario purge_erase_requests --older-than=30d; elimina de BD, vector-store y backups. **Nota de Riesgo Crítico:** Esta tarea incluye la purga de datos de backups encriptados, una operación de **impacto catastrófico** si falla. **Nota de Gestión de Riesgo:** La implementación y revisión de esta tarea debe ser asignada a personal senior. El plan de pruebas para la purga de backups debe ser aprobado explícitamente por el Tech Lead. **Incluye la validación E2E del ciclo de vida de borrado completo (T-22 → T-35 → T-36)**.                          | PRI-001                                                                            | `T-35`, `T-15`                 | 1. Job diario programado sin errores. 2. Datos de solicitudes > 30d purgados irrevocablemente. 3. Test E2E valida ciclo completo: crear → borrar lógico (T-22) → restaurar → borrar a demanda (T-35) → purgar.                                                                              | Logs de CI, reporte de purga, reporte de test E2E, Acta de Certificación de Ciclo de Borrado.       |
| **T-37** | Admin Panel: Add User & System Mgmt Features        | Añadir funcionalidad de gestión al panel de admin existente: 1. CRUD de usuarios. 2. Ver estado y re-indexar vectores. 3. Configurar ventana de restauración. 4. Seleccionar modelo de IA por defecto (GPT-4o/GPT-4o-mini). **Nota de Trazabilidad**: Implementa la UI de administración para ADM-001 (cuya lógica de backend está en T-03).                                                                                                                                                                                                                                | ADM-001 (UI de administración), PRD §2 (Rol Admin), PRD §10 (R-01)                 | `T-02`, `T-44`, `T-04`, `T-22` | 1. CRUD de usuarios se refleja inmediatamente. 2. Panel muestra estado y permite re-indexar. 3. Sistema respeta ventana de restauración y modelo de IA configurados.                                                                                                                        | Docs OpenAPI, tests Cypress, Screenshots de la UI.                                                  |
| **T-38** | Implementar Sharding de Vector-Store en Producción  | Convertir PoC de `T-16` en una solución de sharding productiva y monitorizada; incluye failover y rebalanceo automático.                                                                                                                                                                                                                                                                                                                                                                                                                                                    | SCA-001                                                                            | `T-16`                         | 1. Load test demuestra escalado horizontal del vector-store sin intervención manual. 2. Failover de un nodo de vector-store se completa con MTTR ≤ 15 min sin pérdida de datos. 3. Panel de observabilidad muestra estado de los shards.                                                    | Chaos test report (vector-store), Grafana dashboard                                                 |
| **T-39** | Implementar Pin/Favoritos en Sidebar                | Añadir icono 'pin' a documentos en la sidebar; sección 'Favoritos' en la parte superior; persistencia por usuario.                                                                                                                                                                                                                                                                                                                                                                                                                                                          | UX-001                                                                             | `T-21`                         | 1. Click en 'pin' mueve el documento a la sección 'Favoritos' y el estado persiste entre sesiones. 2. La sección 'Favoritos' es la primera en la lista de navegación.                                                                                                                       | Cypress UI tests, screenshots                                                                       |
| **T-40** | Implementación de Mejoras de Usabilidad Post-Piloto | Abordar los 2-3 hallazgos de mayor impacto del informe de usabilidad de `T-34`. Entrega de PRs específicos para cada mejora.                                                                                                                                                                                                                                                                                                                                                                                                                                                | PRD §4.4.10 (Usabilidad), UX-FLOW §1                                               | `T-34`                         | 1. Los PRs de las mejoras priorizadas son aprobados y fusionados. 2. Una prueba de regresión (Cypress o manual) confirma que las mejoras funcionan como se espera y no introducen errores. 3. El informe de usabilidad de `T-34` es actualizado para marcar los hallazgos como "resueltos". | Links a Pull Requests, reporte de test de regresión, versión actualizada del informe de usabilidad. |
| **T-41** | User API Key Management                             | UI en perfil de usuario para gestionar API Key; endpoint POST `/user/credentials` que valida y guarda la clave cifrada usando el CredentialStore de `T-12`.                                                                                                                                                                                                                                                                                                                                                                                                                 | SEC-002 (Gap); PRD §6 (Supuesto)                                                   | `T-02`, `T-12`                 | 1. Endpoint rechaza claves inválidas (400). 2. Clave válida se guarda cifrada y no se expone en respuestas API. 3. Llamadas a OpenAI sin clave configurada devuelven error 402.                                                                                                             | Colección Postman, tests Cypress, script de verificación en DB.                                     |
| **T-42** | Risk Matrix Review (Proceso)                        | Revisión de la matriz de riesgos al final de cada hito (R0-R6). El entregable de cada ejecución es un artefacto versionado y auditable.                                                                                                                                                                                                                                                                                                                                                                                                                                     | —                                                                                  | —                              | 1. La revisión se completa dentro de la semana de cierre del hito. 2. El artefacto de salida sigue la nomenclatura estándar.                                                                                                                                                                | Minuta de reunión y commit con la actualización de la matriz de riesgos en PRD v2.md.               |
| **T-43** | Implementar Escaneo de Dependencias                 | Integrar escaneo de vulnerabilidades (SCA) y licencias en el pipeline de CI. Establecer políticas de fallo para vulnerabilidades críticas.                                                                                                                                                                                                                                                                                                                                                                                                                                  | `SEC-005 (Gap)`                                                                    | `T-01`                         | 1. Pipeline de CI integra pip-audit y yarn audit. 2. El job qa-gate falla si se detecta una vulnerabilidad de severidad CRITICAL o HIGH. 3. Reporte de licencias es generado como artefacto de CI.                                                                                           | Config. del pipeline, logs de CI, reporte de licencias.                                             |
| **T-44** | Admin Panel Skeleton & Config Store                 | Crear el layout base del panel de administración (sección "Settings") y un servicio de configuración backend para persistir pares clave-valor.                                                                                                                                                                                                                                                                                                                                                                                                                              | `ADM-001 (parcial)`                                                                | `T-02`                         | 1. Ruta /settings es accesible para roles de admin. 2. API GET/POST /config permite leer y escribir configuraciones. 3. La UI del panel es un esqueleto listo para ser poblado por otras tareas.                                                                                            | Colección Postman, tests Cypress, screenshots de la UI.                                             |
| **T-45** | Guardrails Integration                              | Esquemas JSON/XML y validación de salidas LLM; CI falla ante JSON inválido.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | COH-001                                                                            | `T-11`                         | Guardrails rechaza outputs no válidos; cobertura tests ≥ 90 %.                                                                                                                                                                                                                              | Config Guardrails, PyTest suite                                                                     |
| **T-46** | DeepEval Benchmarks                                 | Suite DeepEval/RAGAS en CI para coherencia semántica y factualidad.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | COH-001                                                                            | `T-11`                         | KPI-16 ≤ 1 % se mantiene; regresiones rompen build.                                                                                                                                                                                                                                         | HTML report, CI job                                                                                 |
| **T-47** | Gate R4 Orchestrator Decision                       | Revisión de KPIs al finalizar R4 para emitir ADR-007 go/no-go sobre la adopción de orquestadores en releases futuras. **Nota:** Esta tarea formaliza la decisión mencionada en el PRD §11, actuando como el punto de control final de la Release 4.                                                                                                                                                                                                                                                                                                                         | —                                                                                  | `T-42`                         | Acta de reunión + ADR-007 publicadas.                                                                                                                                                                                                                                                       | Minutes, ADR                                                                                        |

## 8. Glosario de Términos y Acrónimos

|           |                                                                                                                                                                                                      |
| --------- | ------------------------------------------------------------------------------------------------------------------------------------ |
| Término   | Descripción                                                                                                                                                                                          |
| **A11y**  | Abreviatura de "Accessibility" (Accesibilidad), se refiere al diseño de productos para personas con discapacidades.                                                                                  |
| **ADR**   | Architecture Decision Record. Documento que captura una decisión arquitectónica importante junto con su contexto y consecuencias.                                                                    |
| **API**   | Application Programming Interface. Interfaz de programación de aplicaciones.                                                                                                                         |
| **CI/CD** | Continuous Integration / Continuous Delivery. Práctica de automatizar la integración y entrega de software.                                                                                          |
| **GDPR**  | General Data Protection Regulation. Reglamento General de Protección de Datos de la UE.                                                                                                              |
| **GTI**   | Identificador Global de Tarea. Código único e inmutable (T-XX) que define una tarea en el proyecto.                                                                                                  |
| **HPA**   | Horizontal Pod Autoscaler. Componente de Kubernetes que escala automáticamente el número de pods.                                                                                                    |
| **JWT**   | JSON Web Token. Estándar abierto para crear tokens de acceso basados en JSON.                                                                                                                        |
| **KPI**   | Key Performance Indicator. Indicador clave de rendimiento.                                                                                                                                           |
| **M-gap** | **Methodology Gap.** Indica que una tarea aborda un requisito del PRD cuya metodología de implementación no estaba completamente especificada, y la tarea se encarga de definir y cerrar esa brecha. |
| **MTTR**  | Mean Time To Recovery. Tiempo medio para recuperarse de un fallo.                                                                                                                                    |
| **OAuth** | Estándar abierto para la delegación de acceso, usado comúnmente para la autenticación de usuarios.                                                                                                   |
| **OTel**  | OpenTelemetry. Estándar de observabilidad para instrumentar, generar, recolectar y exportar datos de telemetría.                                                                                     |
| **PRD**   | Product Requirements Document. Documento que define los requisitos de un producto.                                                                                                                   |
| **RAG**   | Retrieval-Augmented Generation. Modelo de IA que combina un modelo de lenguaje con una base de conocimiento externa para generar respuestas más precisas.                                            |
| **SUS**   | System Usability Scale. Cuestionario estándar para medir la usabilidad de un sistema.                                                                                                                |
| **WBS**   | Work Breakdown Structure. Desglose jerárquico del trabajo a realizar en un proyecto.                                                                                                                 |
| **WII**   | Identificador de Elemento de Trabajo. Código jerárquico (R.WP-TXX-ST) que ubica una subtarea en el plan.                                                                                             |
| **WORM**  | Write Once, Read Many. Propiedad de un dispositivo de almacenamiento que solo permite escribir datos una vez, impidiendo su modificación.                                                            |

## 9. Aprobación del Plan

La firma de este documento implica la aceptación del alcance, la metodología y la planificación aquí descritos, y autoriza el inicio de la ejecución de la Release 0.

| Rol               | Nombre | Firma | Fecha |
| :---------------- | :----- | :---- | :---- |
| **Product Owner** |        |       |       |
| **Tech Lead**     |        |       |       |
