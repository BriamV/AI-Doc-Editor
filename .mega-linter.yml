# MegaLinter Configuration - Centralized QA System Configuration
# Aligned with PRD-QA CLI.md specifications (lÃ­neas 126, 338, 403)
# Complete configuration for all stacks: Frontend, Backend, Security

# Core configuration
---
APPLY_FIXES: none # QA system reports but doesn't modify code (PRD section 3)

VALIDATE_ALL_CODEBASE: false # Incremental validation by default

# Frontend Stack Configuration (TypeScript/React) - PRD RF-004
ENABLE_LINTERS:
  # JavaScript/TypeScript
  - JAVASCRIPT_ES
  - JAVASCRIPT_PRETTIER
  - TYPESCRIPT_ES
  - TYPESCRIPT_PRETTIER
  - REACT # React specific
  - JSON_JSONLINT # Configuration files
  - JSON_PRETTIER
  - YAML_YAMLLINT
  - YAML_PRETTIER
  - MARKDOWN_MARKDOWNLINT # Documentation
  - DOCKERFILE_HADOLINT # Infrastructure
  - BASH_SHELLCHECK
  - CSS_STYLELINT # Frontend styling
  - HTML_HTMLHINT
  - PYTHON_PYLINT # Python linting and formatting
  - PYTHON_BLACK
  - PYTHON_FLAKE8
  - PYTHON_MYPY

# Design Metrics Configuration (PRD RF-004)
# Complejidad CiclomÃ¡tica: ðŸŸ¢(â‰¤10), ðŸŸ¡(11-15), ðŸ”´(>15)
# LOC por Archivo: ðŸŸ¢(â‰¤212), ðŸŸ¡(213-300), ðŸ”´(>300)  
# Longitud de LÃ­nea: LÃ­mite estricto de 100 caracteres
# ESLint Flat Config Fix: Replace deprecated --no-eslintrc with --no-config-lookup
JAVASCRIPT_ES_CONFIG_FILE: 'eslint.config.js'
JAVASCRIPT_ES_ARGUMENTS:
  - --no-config-lookup
  - --max-warnings=0
  - --rule=complexity:[error,10]
  - --rule=max-lines:[error,212]
  - --rule=max-len:[error,{code:100}]

TYPESCRIPT_ES_CONFIG_FILE: 'eslint.config.js'
TYPESCRIPT_ES_ARGUMENTS:
  - --no-config-lookup
  - --max-warnings=0
  - --rule=complexity:[error,10]
  - --rule=max-lines:[error,212]
  - --rule=max-len:[error,{code:100}]

PYTHON_PYLINT_CONFIG_FILE: '.pylintrc'
PYTHON_PYLINT_ARGUMENTS:
  - --max-line-length=100
  - --max-module-lines=212
  - --max-complexity=10

PYTHON_BLACK_CONFIG_FILE: 'pyproject.toml'

# JavaScript/TypeScript File Extensions (CRITICAL: Include .cjs files)
JAVASCRIPT_ES_FILE_EXTENSIONS:
  - .js
  - .jsx
  - .cjs
  - .mjs

JAVASCRIPT_PRETTIER_FILE_EXTENSIONS:
  - .js
  - .jsx
  - .cjs
  - .mjs

# CSS Design Metrics (PRD RF-003)
CSS_STYLELINT_ARGUMENTS:
  - --max-warnings=0

# HTML Design Metrics (PRD RF-003)  
HTML_HTMLHINT_ARGUMENTS:
  - --rules=attr-value-double-quotes,id-class-value

# BASH Design Metrics (PRD RF-003)
BASH_SHELLCHECK_ARGUMENTS:
  - --severity=warning
  - --exclude=SC1091  # Allow non-constant source

# YAML Design Metrics (PRD RF-003)
YAML_YAMLLINT_ARGUMENTS:
  - --strict
  - --config-data={extends: default, rules: {line-length: {max: 100}}}

# JSON Design Metrics (PRD RF-003)
JSON_JSONLINT_ARGUMENTS:
  - --compact

# Markdown Design Metrics (PRD RF-003)
MARKDOWN_MARKDOWNLINT_ARGUMENTS:
  - --config=.markdownlint.json

# Prettier Design Metrics (PRD RF-003) - Consistent formatting
JAVASCRIPT_PRETTIER_ARGUMENTS:
  - --print-width=100

TYPESCRIPT_PRETTIER_ARGUMENTS:
  - --print-width=100

JSON_PRETTIER_ARGUMENTS:
  - --print-width=100

YAML_PRETTIER_ARGUMENTS:
  - --print-width=100

# Python Flake8 Design Metrics (PRD RF-003) - Already configured via .flake8/.setup.cfg
PYTHON_FLAKE8_ARGUMENTS:
  - --max-line-length=100
  - --max-complexity=10

# Python MyPy Design Metrics (PRD RF-003) - Type checking quality
PYTHON_MYPY_ARGUMENTS:
  - --strict
  - --show-error-codes

# Performance optimizations (PRD RNF-002)
FILEIO_REPORTER: false # Reduce I/O overhead
CLI_LINT_MODE: list_of_files

# Disable tools that QA System handles directly (PRD architecture)
DISABLE_LINTERS:
  - COPYPASTE_JSCPD # Handled by Design Metrics dimension
  - SPELL_MISSPELL # Handled by Error Detection dimension

# Exclude coverage files from linting (generated files)
FILTER_REGEX_EXCLUDE: "(coverage/.*|node_modules/.*|\.venv/.*|build/.*|dist/.*)"

# Security scanning exclusions (handled by dedicated Security dimension)
DISABLE:
  - CREDENTIALS # Handled by Security dimension (Snyk/Semgrep)

# Performance optimizations (PRD RNF-002)
SHOW_ELAPSED_TIME: true
PARALLEL: true
LOG_LEVEL: INFO

# Integration with project package manager (auto-detected)
PRE_COMMANDS:
  - command: echo "ðŸš€ QA System validation starting..."
    cwd: '.'
